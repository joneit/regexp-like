"use strict";function regExpLIKE(e,E){var r,t;if(t=e.match(REGEXP_LIKE_PATTERN_MATCHER)){for(r=0;r<t.length;++r)"["===t[r][0]&&(t[r]=regExpLIKE.reserve(t[r])),t[r]="("+t[r]+")";for(t=e.match(new RegExp(REGEXP_WILDCARD_MATCHER+t.join(REGEXP_WILDCARD_MATCHER)+REGEXP_WILDCARD_MATCHER)),t.shift(),r=1;r<t.length;r+=2){var R=t[r];switch(R){case LIKE_WILDCARD:R=REGEXP_WILDCARD;break;case LIKE_WILDCHAR:R=REGEXP_WILDCHAR;break;default:var c="^"===R[1]?2:1;R="["+regExpLIKE.reserve(R.substr(c,R.length-(c+1)))+"]"}t[r]=R}}else t=[e];for(r=0;r<t.length;r+=2)t[r]=regExpLIKE.reserve(t[r]);return t=t.join(""),t=t.substr(0,2)===REGEXP_WILDCARD?t.substr(2):"^"+t,t.substr(-2,2)===REGEXP_WILDCARD?t=t.substr(0,t.length-2):t+="$",new RegExp(t,E?"i":void 0)}var reserved=/([\.\\\+\*\?\^\$\(\)\{\}\=\!\<\>\|\:\[\]])/g,REGEXP_WILDCARD=".*",REGEXP_WILDCHAR=".",REGEXP_WILDCARD_MATCHER="("+REGEXP_WILDCARD+")",LIKE_WILDCHAR="_",LIKE_WILDCARD="%",REGEXP_LIKE_PATTERN_MATCHER=new RegExp("("+[LIKE_WILDCHAR,LIKE_WILDCARD,"\\[\\^?[^-\\]]+]","\\[\\^?[^-\\]]\\-[^\\]]]"].join("|")+")","g");regExpLIKE.reserve=function(e){return e.replace(reserved,"\\$1")};var cache,size;(regExpLIKE.clearCache=function(e){return e?cache[e]&&(delete cache[e],size--):(cache={},size=0),size})(),regExpLIKE.getCacheSize=function(){return size},regExpLIKE.cached=function(e,E,r){"string"==typeof e&&(r=E,E=e,e=!1);var t=E+(r?"i":"c"),R=cache[t];if(R)R.when=(new Date).getTime(),void 0!==e&&(R.keep=e);else{if(size===regExpLIKE.cacheMax){var c,i,n=[],I=0;for(c in cache)if(R=cache[c],!R.keep){for(i=0;I>i&&!(R.when<n[i].item.when);++i);n.splice(i,0,{key:c,item:R}),I++}if(!n.length)return regExpLIKE(E,r);for(i=Math.ceil(n.length/10),size-=i;i--;)delete cache[n[i].key]}R=cache[t]={regex:regExpLIKE(E,r),keep:e,when:(new Date).getTime()},size++}return R.regex},window.regExpLIKE=regExpLIKE;